<!DOCTYPE html>
<html>
<head>
	<title>毕业100</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/index4.css">
  <style>
    .textarea{
      width: 100%;
      font-family:'幼圆';
      resize:none;
    }
  </style>
</head>
<body>
  <div id="content">
    <div id="Home">   
      
      <div id="name">
        <img src="img/4-1.png" style="width:100%">
      </div>
      <div id="name_txt">
        <textarea class="textarea" rows="1" id="name_text" readonly="readonly" style="font-size: 45px;background:transparent ;border-style:none;"></textarea>
      </div>
      <div id="major">
        <img src="img/4-2.png" style="width:100%">
      </div>
      <div id="major_txt">
        <textarea class="textarea" rows="1" id="major_text" readonly="readonly" style="font-size: 45px;background:transparent ;border-style:none;"></textarea>
      </div>
      <div id="love_building">
        <img src="img/4-3.png" style="width:100%">
      </div>
      <div id="building_txt">
        <textarea rows="1" class="textarea" id="building_text" readonly="readonly" style="font-size: 45px;background:transparent ;border-style:none;"></textarea>
      </div>
      <div id="love_food">
        <img src="img/4-4.png" style="width:100%">
      </div>
      <div id="food_txt">
        <textarea rows="1" class="textarea" id="food_text" readonly="readonly" style="font-size: 45px;background:transparent ;border-style:none;"></textarea>
      </div>     
      <div id="koudai">
        <img src="img/4-5.png" style="width:100%">
      </div>
      <div id="num">
        <textarea rows="1" class="textarea" id="num_text" readonly="readonly" style="font-size: 99px;background:transparent;border-style:none;"></textarea>
      </div>
      <div id="things">
        <img src="img/4-6.png" style="width:100%">
      </div>
      <div id="sodoi">
        <img src="img/4-7.png" style="width:100%">
      </div>
      <div id="square">
        <img src="img/4-9.png" style="width:100%">
      </div>
      <div id="graduation">
        <img src="img/4-10.png" style="width:100%">
      </div>
    </div>
  </div>
    <div id='canvasdiv' >
        <canvas id="canvas" style="position: absolute;width:96%;left:2%;" ></canvas>
    </div>
</body>

 <script type="text/javascript">
    function onload(){
    var sen = "Home";  
    var width = document.documentElement.clientWidth;
    var height = document.documentElement.clientHeight;
    var ratio = width / height;
    if (ratio > (9 / 16)) {
      var bodywidth = height * 9 / 16;
      var margin = (width - bodywidth) / 2;
      document.getElementById(sen).style.height= height + 'px';
      document.getElementById(sen).style.width= bodywidth + 'px';
      document.getElementById(sen).style.marginLeft= margin + 'px';
      document.getElementById(sen).style.marginRight= margin + 'px';
    }else if(ratio < (9 / 16)){
      var bodyheight = width * 16 / 9;
      var margin = (height - bodyheight) / 2;
      document.getElementById(sen).style.height = bodyheight + 'px';
      document.getElementById(sen).style.width = width + 'px';
      document.getElementById(sen).style.marginTop = margin + 'px';
      document.getElementById(sen).style.marginBottom = margin + 'px';
    }else{
      document.getElementById(sen).style.height = height + 'px';
      document.getElementById(sen).style.width = width + 'px';
      document.getElementById(sen).style.marginTop = 0 + 'px';
      document.getElementById(sen).style.marginBottom = 0 + 'px';
    }
  }
  onload(); 
  getdata();
  function getdata(){

      var name = window.sessionStorage.getItem('name');
      var major = window.sessionStorage.getItem('major');
      var building = window.sessionStorage.getItem('build');
      var food = window.sessionStorage.getItem('food');
      var num = window.sessionStorage.getItem('num');
      
      document.all.name_text.innerHTML = name;
      document.all.major_text.innerHTML = major;
      document.all.building_text.innerHTML = building;
      document.all.food_text.innerHTML = food;
      document.all.num_text.innerHTML = num;
  }

  function getimglist(){//string序号数组转换int并返回
    var number = window.sessionStorage.getItem('number');
    var list = [];
    var arr = number.split(',');
      for(var i = 0;i < arr.length;i++){
          list[i] = parseInt(arr[i]);
      }
      return list;
  }
</script>
<script type="text/javascript">

var canvas = document.getElementById('canvas').getContext('2d');
var imgnumlist = getimglist(); //int型选中的img序号数组
var imglist = [];
var p,q;
canvas.font = "18px bold 黑体";
canvas.textAlign = "center";
canvas.textBaseline = "middle";

for(var i = 0;i < imgnumlist.length; i++){
  n = imgnumlist[i];
  imglist.push({s:'事件'+n.toString(), x:0, y:0});
  imglist[i].picture = new Image();
  if(n + 1 < 10){
    imglist[i].picture.src = "img/100/0" + (n + 1).toString()+'.png';
  }
  else{
    imglist[i].picture.src = "img/100/" + (n + 1).toString()+'.png';
  }
}

canvas.fillText("要写的文字", 100, 100);
console.log(imglist[0]);
console.log("zmhffff");
for(var i = 0, p = 10; i < imgnumlist.length; i++,p+=20){
  canvas.fillText(imgnumlist[i], 10, p);
}

//这里图片不知道为什么不能显示！！！
//canvas.drawImage(imglist[0].picture,50,100);
//var img = new Image();
//img.src = "img/100/01.png"
//canvas.drawImage(img,50,100);
</script>
</html>
